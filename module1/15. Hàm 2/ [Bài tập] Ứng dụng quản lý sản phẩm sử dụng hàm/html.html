<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<body>

<script>

    var arr = ["SamSung", "Nokia", "Iphone", "Asus", "Xiaomi"];
    HienThiSP()

    function HienThiSP() {
        document.body.innerHTML = "";
        document.writeln('<h1 style="font-family: sans-serif;color: rgb(60,179,113) ;text-shadow:#d61b06;" >ADD NEW PRODUCT</h1>')
        document.writeln('<input type="text" id="them">')
        document.writeln('<input type="button" value="Them" onclick="ThemSP()"style="background-color: aquamarine;border-radius:6px ">')
        document.writeln("<table border='2px solid' >")
        for (let i = 0; i < arr.length; i++) {
            document.writeln("<tr>")
            document.writeln("<td>" + arr[i] + "</td>")
            document.writeln("<td>" + '<input type="button"value="Xoa" style="background-color: aquamarine;border-radius:6px;"onclick="XoaSP(' + i + ')">' + "</td>")
            document.writeln("<td>" + '<input type="button"value="Sua" style="background-color: aquamarine;border-radius:6px "onclick="SuaSP(' + i + ')">' + "</td>" + "<br>")
            document.writeln("</tr>")
        }
        document.writeln("</table>");
    }

    function ThemSP() {
        var add = document.getElementById("them").value;
        if (arr.indexOf(add) != -1) {
            alert("Sản phẩm đã tồn tại. Mời bạn nhập thông tin khác!")
        } else {
            arr.push(add);
            alert("them thanh cong");
            HienThiSP()
        }
    }

    function SuaSP(index) {
        document.body.innerHTML = "";
        document.writeln('<h1 style="font-family: sans-serif;color: rgb(60,179,113);text-shadow:#d61b06;  " >ADD NEW PRODUCT</h1>')
        document.writeln('<input type="text" id="them">')
        document.writeln('<input type="button" value="Them" onclick="ThemSP()"style="background-color: aquamarine;border-radius:6px ;">')
        document.writeln("</br><table border='2px solid ' >")
        for (let i = 0; i < arr.length; i++) {
            document.writeln("<tr>")
            if (i == index) {
                document.write("<td><input  id='suaSanPham' value='" + arr[i] + "'></td>");
                document.writeln("<td>" + '<input type="button" value="Update" onclick="HoanThanh(' + i + ')"style="background-color: aquamarine;border-radius:6px ;">' + "</td>")
            } else {
                document.write("<td>" + arr[i] + "</td>");
                document.writeln("<td>" + '<input type="button"value="Xoa" onclick="XoaSP(' + i + ')"style="background-color: aquamarine;border-radius:6px ;">' + "</td>")
            }
            document.writeln("<td>" + '<input type="button"value="Sua" onclick="SuaSP(' + i + ')"style="background-color: aquamarine;border-radius:6px ;">' + "</td>" + "<br>")
            document.writeln("</tr>")
        }
        document.writeln("</table>")

    }

    function XoaSP(i) {
        if (confirm("ban co muon xoa hay khong")) {
            arr.splice(i, 1)
            HienThiSP()
        }
    }

    function HoanThanh(i) {
        let product = document.getElementById("suaSanPham").value;
        if (arr.indexOf(product) != -1) {
            alert("Sản phẩm đã tồn tại. Mời bạn nhập thông tin khác!")
        } else {
            arr[i] = product;
            alert("Sua san pham thanh cong")
            HienThiSP()
        }
    }
</script>
</body>
</html>